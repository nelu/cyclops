/**
 * The contents of this file are subject to the CYPHON Proprietary Non-
 * Commercial Registered User Use License Agreement (the "Agreement”). You
 * may not use this file except in compliance with the Agreement, a copy
 * of which may be found at https://github.com/dunbarcyber/cyclops/. The
 * developer of the CYPHON technology and platform is Dunbar Security
 * Systems, Inc.
 *
 * The CYPHON technology or platform are distributed under the Agreement on
 * an “AS IS” basis, WITHOUT WARRANTY OF ANY KIND, either express or
 * implied. See the Agreement for specific terms.
 *
 * Copyright (C) 2017 Dunbar Security Solutions, Inc. All Rights Reserved.
 *
 * Contributor/Change Made By: ________________. [Only apply if changes
 * are made]
 */

// --------------------------------------------------------------------------
// Alerts Page
// --------------------------------------------------------------------------

//== Icons

.alert-icon {
  width: 15px;
}

.alert-icon-spacing {
  margin-left: $padding-xs-horizontal;
}

//== Detail

.alert-detail {
  background-color: $color-dark;
  width: 350px;
}

.alert-detail-header {
  padding: $padding-large-vertical $padding-large-horizontal;
  border-bottom: 5px solid transparent;

  &--critical { border-color: $alert-color-critical; }
  &--high { border-color: $alert-color-high; }
  &--medium { border-color: $alert-color-medium; }
  &--low { border-color: $alert-color-low; }
  &--info { border-color: $alert-color-info; }
}

.alert-detail-header__title {
  color: #fff;
  font-size: 16px;
  font-weight: bold;
}

.alert-detail-outcome__button {
  margin-left: $padding-base-horizontal - 7px;
}

.alert-detail-outcome__remove {
  margin-left: 8px;
}

.alert-detail-outcome__description {
  margin-bottom: 5px;
}

.alert-detail-outcome__well {
  margin-top: 10px;
}


.alert-detail__assign-btn {
  padding: 3px 5px 1px;
  border-color: transparent;
  background-color: lighten($color-dark, 6%);
  border-width: 0;
  border-radius: $border-radius-base;
  color: lighten($color-dark, 40%);
  font-size: 10px;
  margin-left: 5px;

  &:hover {
    color: lighten($color-dark, 65%);
    background-color: lighten($color-dark, 9%);
  }

  &:disabled:hover {
    color: lighten($color-dark, 40%);
    background-color: lighten($color-dark, 6%);
  }
}

.alert-detail__errors {
  height: 8px;
  padding: 0 $padding-base-horizontal;
  color: #fff;
  overflow: hidden;
  transition: background-color .5s;

  &--critical { background-color: $alert-color-critical; }
  &--high { background-color: $alert-color-high; }
  &--medium { background-color: $alert-color-medium; }
  &--low { background-color: $alert-color-low; }
  &--info { background-color: $alert-color-info; }

  &--open {
    height: auto;
    background-color: $brand-danger;
  }

  h3 {
    border-bottom: 1px solid rgba(#fff, .3);
    font-size: $font-size-base;
    padding-bottom: $padding-base-vertical;
    margin: 12px 0 5px 0;
  }

  p {
    margin: 0 0 12px 0;
  }
}

/* === Alert List === */

.alert-list {
  border-top: 1px solid lighten($color-base, 4%);
  border-bottom: 1px solid $color-dark;
}

.alert-list__header {
  border-bottom: solid 1px $color-dark;
  padding: $padding-large-vertical $padding-large-horizontal;
}

.alert-list__refresh {
  color: $text-color;
  background-color: transparent;
  border-color: transparent;
  padding: 0;
  float: right;

  &--active {
    color: #fff;
  }
}

.alert-list__pagination {
  text-align: center;
  padding: $padding-large-vertical $padding-large-horizontal;
  border-top: 1px solid lighten($color-base, 4%);
}

.alert-list__table {
  width: 100%;
  max-width: 100%;
}

$alert-search-bar-bg: lighten($color-base, 12%);
$alert-search-bar-border-color: lighten($color-base, 23%);
$alert-search-bar-border-width: 2px;
$alert-search-bar-height: 35px;

.alert-list__search-bar {
  @extend .input-group;

  margin-bottom: 15px;

  input {
    @extend .form-control;

    background-color: $alert-search-bar-bg;
    border-color: $alert-search-bar-border-color;
    border-width: $alert-search-bar-border-width;
    height: $alert-search-bar-height;
    border-right: none;
    color: #fff;

    &:focus {
      border-color: lighten($alert-search-bar-border-color, 15%);
      box-shadow: none;

      & + span > button {
        border-color: lighten($alert-search-bar-border-color, 15%);
      }
    }
  }

  span {
    @extend .input-group-btn;
  }

  button {
    @extend .btn;

    background-color: $alert-search-bar-bg;
    border-color: $alert-search-bar-border-color;
    border-width: $alert-search-bar-border-width;
    border-left: none;
    height: $alert-search-bar-height;
    color: $text-color;
    transition: border-color .3s color .3s;

    &:hover {
      background-color: lighten($alert-search-bar-bg, 3%);
      color: #fff;
    }
  }
}

//== List Item

.alert-list-item {
  cursor: pointer;
  border-left: 7px solid transparent;

  &:hover,
  &.active,
  &.active:hover {
    background-color: $color-dark;
  }


  &.active .alert-list-item__gradient,
  &:hover .alert-list-item__gradient {
    background: linear-gradient(
      to right,
      rgba($color-dark, 0) 0%,
      rgba($color-dark, 1) 100%
    );
  }

  & > td {
    white-space: nowrap;
    overflow: hidden;
    border-bottom: 1px solid lighten($color-base, 4%);
    text-overflow: ellipsis;
    padding: $table-cell-padding;
    vertical-align: top;
    width: 1%;
    line-height: $line-height-base;

    &:last-child {
      width: auto;
    }
  }

  &--critical { border-color: $alert-color-critical; }
  &--high { border-color: $alert-color-high; }
  &--medium { border-color: $alert-color-medium; }
  &--low { border-color: $alert-color-low; }
  &--info { border-color: $alert-color-info; }
}

.alert-list-item__title {
  white-space: normal;
  position: relative;
  max-height: 20px;
  overflow: hidden;
  word-break: break-all;
}

.alert-list-item__user {
  padding-left: 12px;
}

.alert-list-item__gradient {
  background: linear-gradient(
    to right,
    rgba($color-base, 0),
    rgba($color-base, 1)
  );
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  width: 30px;
}

//== Parameter Sidebar

.alert-list-params {
  background-color: $color-dark;
  width: 220px;
}

.alert-list-params__container {
  background-color: $color-dark;
  z-index: 15;
}

.alert-list-params__extender {
  position: absolute;
  top: 0;
  bottom: 0;
  left: 100%;
  background-color: $color-dark;
  min-width: 40px;
  z-index: 10;
  overflow-y: auto;
  padding: 0 $padding-base-horizontal;
  border-left: 1px solid $border-color-base;
}

.alert-list-params__extender-close {
  margin-top: $padding-base-vertical;
  background-color: $color-dark;
  padding-left: 10px;
}

.alert-list-params__list-group {
  margin-left: -$padding-base-horizontal;
  margin-right: -$padding-base-horizontal;
}


.alert-list-params__header {
  padding: 0 $padding-base-horizontal;
}

.alert-list-params__spacer {
  padding: 0 $padding-base-horizontal;
}

.alert-list-params__time-range {
  background-color: $input-bg;
  border-radius: $border-radius-base;
  margin: $padding-large-vertical 0;
  padding: $padding-base-vertical $padding-base-horizontal;
  text-align: center;
  color: darken($text-color, 15%);
}

.alert-list-params__btn-group {
  margin-left: $padding-small-horizontal;
}

.alert-list-params__group {
  margin-bottom: 30px;
}

//== Comment

.alert-comment {
  //border-bottom: darken($border-color-light, 7%) 1px solid;
  margin-bottom: 15px;
}

//== Action

.alert-action {
  margin-bottom: 15px;
}

.alert-action__title {
  border-bottom: darken($border-color-light, 7%) 1px solid;
  padding-bottom: 6px;
}

.alert-comment__content {
  white-space: pre-line;
  margin-top: 15px;
  margin-bottom: 0;
}

.alert-comment__date {
  margin-left: 10px;
}

.alert-action__select {
  margin-bottom: $padding-large-vertical;
}

//== Dispatch

.alert-dispatch {
  margin-bottom: $padding-large-vertical;
}